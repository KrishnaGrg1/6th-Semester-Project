<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Popcornbox - Contact Us</title>
    <link rel="icon" href="assets/favicon.png" />
    <link rel="stylesheet" href="css/contact.css" />
  </head>
  <body>
    <header class="header">
      <a href="home">
        <img
          class="fimg"
          src="/assets/popcornlogo.png"
          alt="Popcornbox"
          class="logo"
        />
      </a>
      <nav class="nav">
        <a href="home">Home</a>
        <a href="pricing">Pricing</a>
        <a href="contact" class="active">Contact</a>
        <a href="about">About</a>
      </nav>
      <div class="profile">
        <img src="/assets/popcornlogo.png" alt="Profile" id="profileImg" />
        <p id="username"><%= user.fname %></p>
        <div id="profileOptions" class="profile-options">
          <a href="/edit-profile"><button>Edit Profile</button></a>
          <a href="logout"><button id="logoutbtn">Log Out</button></a>
        </div>
      </div>
    </header>

    <main class="main">
      <h1 class="title">Contact Us</h1>
      <p class="subtitle">
        Any questions or remarks ? Just write us a message !
      </p>

      <div class="contact-container">
        <section class="contact-info">
          <h2>Contact Information</h2>
          <div class="info-item">
            <span>üìû 9801234567</span>
          </div>
          <div class="info-item">
            <span>‚úâÔ∏è popcornbox@gmail.com</span>
          </div>
          <div class="info-item">
            <span>üìç Pokhara - Kaski, Nepal</span>
          </div>
        </section>

        <!-- Contact Form Section -->
        <section class="contact-form">
          <form action="https://api.web3forms.com/submit" method="POST">
            <!-- Hidden Access Key for Web3Forms -->
            <input
              type="hidden"
              name="access_key"
              value="3061539e-2c48-4406-a007-39e5c3626c34"
            />

            <!-- Name Fields -->
            <div class="form-row">
              <div class="form-group">
                <input
                  type="text"
                  name="first_name"
                  placeholder="First Name"
                  required
                />
              </div>
              <div class="form-group">
                <input
                  type="text"
                  name="last_name"
                  placeholder="Last Name"
                  required
                />
              </div>
            </div>

            <!-- Email and Phone Fields -->
            <div class="form-row">
              <div class="form-group">
                <input type="email" name="email" placeholder="Email" required />
              </div>
              <div class="form-group">
                <input
                  type="tel"
                  name="phone"
                  placeholder="Phone Number"
                  required
                />
              </div>
            </div>

            <!-- Message Field -->
            <div class="form-group" id="messageform">
              <textarea
                name="message"
                placeholder="Write your message........"
                required
              ></textarea>
            </div>

            <!-- Submit Button -->
            <button type="submit" class="btn">Send Message</button>
          </form>
        </section>
      </div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const profileImg = document.getElementById("profileImg");
        const profileOptions = document.getElementById("profileOptions");

        profileImg.addEventListener("click", () => {
          profileOptions.classList.toggle("show");
        });

        // Close the dropdown if the user clicks outside of it
        window.addEventListener("click", (event) => {
          if (
            !profileImg.contains(event.target) &&
            !profileOptions.contains(event.target)
          ) {
            profileOptions.classList.remove("show");
          }
        });
      });
    </script>
  </body>
</html>
